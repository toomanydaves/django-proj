{% extends 'toomanydaves/base.html' %}

{% block title %}The Journey of Too Many Daves{% endblock %}

{% block style %}
   <style>
        .post {
            margin-bottom: 2rem;
        }
   </style> 
{% endblock %}

{% block nav %}
    {% include "toomanydaves/nav.html" %}
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-12 col-sm-8">
            <div class="mb-4 text-right">
                <h1 class="text-sans-serif" style="margin-bottom: 0">
                    The Journey of<br>
                    <span class="text-uppercase">Too Many Daves</span>
                </h1>
                <h6><small class="text-serif">A Collaborative Blog</small></h6>
            </div>
            <div style="
                width: 100%;
                height: 46px;
                background-color: #76c58c;
                margin-bottom: 2rem;"
            ></div>
            {% for post in post_list %}
                <div id="post_{{ post.id }}" class="post">
                    {% if post.tags.length %}
                    <ul class="list-inline">
                        {% for tag in post.tags.all %}
                        <li class="list-inline-item">
                            <span class="badge badge-warning">
                                {{ tag.name }}
                            </span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                    {% if post.cover_photo %}
                        <img
                            style="
                                float: left;
                                margin-right: 1rem;
                                max-width: 180px;
                                vertical-align: top;
                            "
                            src="{{ post.cover_photo.url }}"
                        >
                    {% endif %}
                    {% if post.title %}
                        <h5 class="he text-sans-serif text-dark">{{ post.title }}</h5>
                        <h6><small><a
                            class="text-uppercase"
                            href="{{ post.written_by.url }}"
                        >{{ post.written_by }}</a></small></h6>
                        <p class="text-serif text-white">{{ post.content }}</p>
                    {% else %}
                        <p class="text-white">
                            <span class="text-serif">{{ post.content }}</span><br>
                            <small><a
                                class="text-muted text-uppercase"
                                href="{{ post.written_by.url }}"
                            >{{ post.written_by }}</a></small>
                        </p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        <div class="col-12 col-sm-4">
            <div style="
                height: 180px;
                width: 100%;
                background-color: #76c58c;
                margin-bottom: 2rem;
            "></div>
            <div class="mb-sm-4">
                <h4 class="text-sans-serif text-uppercase">backstory</h4>
                <div class="d-none d-sm-block">
                    {% include 'blog/backstory.html' %}
                </div>
            </div>
            <div>
                <h4 class="text-sans-serif text-uppercase">About These Posts</h4>
                <div class="d-none d-sm-block">
                    {% include 'blog/about.html' %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
